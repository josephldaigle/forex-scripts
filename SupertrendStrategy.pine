//@version=5
strategy("Supertrend Strategy", overlay=true, default_qty_type=strategy.percent_of_equity, default_qty_value=15)

atrPeriod = input(10, "ATR Length")
factor = input.float(3.0, "Factor", step = 0.01)

[_, direction] = ta.supertrend(factor, atrPeriod)

if ta.change(direction) < 0
    strategy.entry("Supertrend_long_entry", strategy.long)
    strategy.exit("Supertrend_short_exit", from_entry="Supertrend_short_entry")

if ta.change(direction) > 0
    strategy.entry("Supertrend_short_entry", strategy.short)
    strategy.exit("Supertrend_long_exit", from_entry="Supertrend_long_entry")

//plot(strategy.equity, title="equity", color=color.red, linewidth=2, style=plot.style_areabr)